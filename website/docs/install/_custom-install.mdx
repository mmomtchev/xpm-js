
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import Heading from '@theme/Heading';

import customField from '@site/src/libs/customField';

import Cli from './_common/_cli.mdx';

{/* ------------------------------------------------------------------------ */}

<Cli nodeVersion={props.nodeVersion}/>

## xpm folders

To avoid security issues and the need for elevated user privileges,
**xpm** operates entirely within the user home folder, avoiding
the use of system folders.

The folders in use are:

- a **cache** folder, where all downloaded files are stored
- a **user global xPacks store** folder, where the xpm packages are installed

<details>
<summary>Clean-ups</summary>

For a thorough clean-up, these folders can be removed at any time;
**xpm** will recreate them on new installs.

<Tabs groupId="operating-systems">

<TabItem value="windows" label="Windows" default>

- `%APPDATA%\Roaming\xPacks`
- `%APPDATA%\Local\Caches\xPacks`

</TabItem>

<TabItem value="macos" label="macOS">

- `${HOME}/Library/xPacks`
- `${HOME}/Library/Caches/xPacks`

</TabItem>

<TabItem value="linux" label="GNU/Linux">

- `${HOME}/.local/xPacks`
- `${HOME}/.cache/xPacks`

</TabItem>

</Tabs>

</details>

For more details see [xpm folders](/docs/user/folders/).

## Proxy

If you are behind a firewall, you need to configure
a proxy.

**xpm** uses the same Node.js module as **npm** to fetch
the packages metadata and content (`pacote`). Therefore, setting a proxy for
**npm** will also work for **xpm**.

In addition, **xpm** uses `node-fetch`,
`https-proxy-agent`, `proxy-from-env` to download the binary
archives. These packages require setting the `http_proxy` & `https_proxy`
variables in the environment.
See [proxy-from-env](https://www.npmjs.com/package/proxy-from-env) for
details.

## Quick info

To get an initial overview of the program,
request help by using the following command:

<CodeBlock language="console"> {
`% xpm --help

The xPack project manager command line tool
Usage: xpm <command> [<subcommand>...] [<options> ...] [<args>...]

where <command> is one of:
  init, install, link, list, run, uninstall

Common options:
  --loglevel <level>     Set log level (silent|warn|info|verbose|debug|trace)
  -s|--silent            Disable all messages (--loglevel silent)
  -q|--quiet             Mostly quiet, warnings and errors (--loglevel warn)
  --informative          Informative (--loglevel info)
  -v|--verbose           Verbose (--loglevel verbose)
  -d|--debug             Debug messages (--loglevel debug)
  -dd|--trace            Trace messages (--loglevel trace, -d -d)
  --no-update-notifier   Skip check for a more recent version
  -C <folder>            Set current folder

xpm -h|--help            Quick help
xpm <command> -h|--help  Quick help on command
xpm --version            Show version
xpm -i|--interactive     Enter interactive mode

npm xpm@${customField('releaseVersion')} '/Users/ilg/.nvm/versions/node/${frontMatter.node_version}/lib/node_modules/xpm'
Home page: <https://xpack.github.io/xpm/>
Bug reports: <https://github.com/xpack/xpm-js/issues/>
%
`} </CodeBlock>
