
import CommonJsCompatibility from './_common/_commonjs-compatibility.mdx'
import GithubAndNpmjs from './_common/_github-and-npmjs.mdx'

{/* ------------------------------------------------------------------------ */}

## First, let's clarify what xpm is NOT

- **xpm** is NOT a **npm** replacement
- **xpm** is NOT just another package manager
- **xpm** is NOT introducing a new package format

## So, what is xpm?

**xpm**, short for **x**Pack **P**roject **M**anager, is a
[Node.js](https://nodejs.org/en/) CommonJS  module and a CLI
application designed to **automate builds**, conduct **tests**, and
**manage C/C++ dependencies**. It draws inspiration from **npm**.

<CommonJsCompatibility />

<GithubAndNpmjs />

## What are xpm packages? (xPacks)

**xpm packages**, abbreviated as **xPacks**, are versatile,
language-neutral software packages. They have been successfully
utilised in C/C++ projects.

<details>
<summary>What the heck are xpm packages / xPacks? Please, do not introduce another package format!</summary>

Based on the content, there are two types of packages:

- packages with source libraries (source xpm packages)
- packages with executables, usually platform-specific binary tools (binary xpm packages)

Source xpm packages are **regular npm packages** that include library
source files, typically in C/C++, though there are no language restrictions.

Binary xpm packages are also regular npm packages, but with minimal content,
typically just the `package.json` file. Since these packages provide
executables for multiple platforms, some of which are quite large,
it is not practical to include all binaries within the npm package itself.
Instead, the `package.json` file contains references (URLs) to platform-specific
binary archives (e.g., `.tar.gz` for Unix or `.zip` for Windows).

Simply put, xpm packages can enhance and automate the installation process
for source libraries and tools.

</details>

By design, xpm packages support multiple versions, allowing packages to have
**various versions installed simultaneously**. Each project or
build configuration
can maintain its own set of dependencies, ensuring that system upgrades do
not affect existing projects.

## Features

By design, the xPack Framework aims to automate:

- managing **dependencies**
- managing **build configurations**
- the **component configurations** process
- the **build** process

While the configuration & build processes are covered by **xcdl**, the management of dependencies & build configurations is handled by **xpm**.

**xpm** complements **npm** by streamlining cross-platform builds and
tests with its distinctive features:

- **Cross-Platform Support**: Operates seamlessly on **Windows**,
**macOS**, and **GNU/Linux**.
- **Package Installation**: Installs the same format of packages as **npm**,
including those from Git repositories and the **npm** public repository
([npmjs.com](https://www.npmjs.com)).
- **Version Locking**: Locks specific versions of source and binary
packages as project dependencies, installing them on demand.
- **Build Configurations**: Manages multiple build configurations,
such as debug/release builds or platform-specific tests.
- **Configuration Dependencies**: Locks specific versions of
packages as build configuration dependencies.
- **Command Actions**: Defines multi-line command actions at the
project or build configuration level.
- **Property Management**: Manages properties with complex
substitutions, using the [LiquidJS](https://liquidjs.com) engine.


## Benefits

- Being able to develop exactly the same project on Windows, macOS and
GNU/Linux provides team members with the flexibility to use their
preferred platform.
- Locking projects to specific versions of dependencies ensures
**reproducibility**, providing stability over time and across different
environments.
- Defining dependencies at the build configuration level allows for
**testing across different architectures**, such as native, Arm, and RISC-V.
- Installing multiple versions of the same package simultaneously
enables testing with **various versions of the same toolchain**.
- Running multi-line commands with parameters and substitutions offer a
**robust and portable scripting mechanism**.
- Installing packages directly from Git/GitHub **simplifies the
maintenance** of some packages during development.

